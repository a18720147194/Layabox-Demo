var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

(function () {
    var Sprite = Laya.Sprite;
    var Stage = Laya.Stage;
    var Texture = Laya.Texture;
    var Browser = Laya.Browser;
    var Handler = Laya.Handler;
    var WebGL = Laya.WebGL;
    var ColorFilter = Laya.ColorFilter;
    var GlowFilter = Laya.GlowFilter;
    var texture1 = "../laya/assets/img/2.png";
    var texture2 = "../laya/assets/img/3.png";
    var flag = false;
    var ape, apeGlow, apeshadow;
    var apeTexture;
    console.log(laya.GlowFilter);
    (function () {
        // 不支持WebGL时自动切换至Canvas
        Laya.init(Browser.clientWidth, Browser.clientHeight, WebGL);
        Laya.stage.alignV = Stage.ALIGN_MIDDLE;
        Laya.stage.alignH = Stage.ALIGN_CENTER;
        Laya.stage.scaleMode = "showall";
        Laya.stage.bgColor = "#232628";
        // Loader 类可用来加载文本、JSON、XML、二进制、图像等资源
        // Handler是事件处理器类  create()从对象池内创建一个Handler，默认会执行一次并立即回收，如果不需要自动回收
        // 个人理解：加载资源 回调函数
        Laya.loader.load([texture1, texture2], Handler.create(this, setup));
    })();
    // loadImage
    function onAssetsLoaded() {
        ape = new Sprite();
        Laya.stage.addChild(ape);
        ape.pivot(0, 0);
        ape.pos(100, 100);
        // 显示默认纹理
        switchTexture();
        ape.on("click", this, switchTexture);
    }
    function switchTexture() {
        var textureUrl = (flag = !flag) ? texture1 : texture2;
        // 更换纹理
        // 清空绘制命令
        ape.graphics.clear();
        ape.loadImage(textureUrl);
        var texture = Laya.loader.getRes(textureUrl);
    }

    //drawTexture
    function onAssetsLoaded2() {
        ape = new Sprite();
        Laya.stage.addChild(ape);
        ape.pivot(0, 0);
        ape.pos(0, 0);
        // 显示默认纹理
        switchTexture2();

        ape.on("click", this, switchTexture2);
    }
    function switchTexture2() {
        var textureUrl = (flag = !flag) ? texture1 : texture2;
        // 更换纹理
        ape.graphics.clear();
        var texture = Laya.loader.getRes(textureUrl);
        ape.graphics.drawTexture(texture, 0, 0);
        //创建遮罩对象
        var cMask = new Sprite();
        //画一个圆形的遮罩区域
        cMask.graphics.drawCircle(50, 50, 50, "#ff0000");
        //圆形所在的位置坐标
        cMask.pos(0, 0);
        //实现img显示对象的遮罩效果
        ape.mask = cMask;
        // 设置交互区域
        ape.size(texture.width, texture.height);
    }

    // 滤镜
    function setup() {
        normalizeApe();
        makeRedApe();
        grayingApe();
        createApe1();
        filterGlow();
        filterShadow();
    }
    function normalizeApe() {
        var originalApe = createApe();
        apeTexture = Laya.loader.getRes("../laya/assets/img/2.png");
    }
    function makeRedApe() {
        //由 20 个项目（排列成 4 x 5 矩阵）组成的数组，红色
        var redMat = [1, 0, 0, 0, 0, //R
        0, 0, 0, 0, 0, //G
        0, 0, 0, 0, 0, //B
        0, 0, 0, 1, 0];
        //创建一个颜色滤镜对象,红色
        var redFilter = new ColorFilter(redMat);
        // 赤化猩猩
        var redApe = createApe();
        redApe.filters = [redFilter];
        var firstChild = Laya.stage.getChildAt(0);
        redApe.x = firstChild.x + apeTexture.width;
        redApe.y = firstChild.y;
    }
    function grayingApe() {
        //由 20 个项目（排列成 4 x 5 矩阵）组成的数组，灰图
        var grayscaleMat = [0.3086, 0.6094, 0.0820, 0, 0, 0.3086, 0.6094, 0.0820, 0, 0, 0.3086, 0.6094, 0.0820, 0, 0, 0, 0, 0, 1, 0];
        //创建一个颜色滤镜对象，灰图
        var grayscaleFilter = new ColorFilter(grayscaleMat);
        // 灰度猩猩
        var grayApe = createApe();
        grayApe.filters = [grayscaleFilter];
        var secondChild = Laya.stage.getChildAt(1);
        grayApe.x = secondChild.x + apeTexture.width;
        grayApe.y = secondChild.y;
    }
    function createApe() {
        var ape = new Sprite();
        ape.loadImage("../laya/assets/img/2.png");
        Laya.stage.addChild(ape);
        return ape;
    }
    function createApe1() {
        // ape = new Sprite();
        // ape.loadImage(texture1);
        apeGlow = new Sprite();
        apeGlow.loadImage(texture1);
        apeshadow = new Sprite();
        apeshadow.loadImage(texture1);
        // ape.pos(100,50);
        apeGlow.pos(400, 0);
        apeshadow.pos(500, 0);
        // Laya.stage.addChild(ape);
        Laya.stage.addChild(apeGlow);
        Laya.stage.addChild(apeshadow);
    }
    function filterGlow() {
        //创建一个发光滤镜
        var glowFilter = new GlowFilter("#ffff00", 10, 0, 0);
        //设置滤镜集合为发光滤镜
        apeGlow.filters = [glowFilter];
    }
    function filterShadow() {
        //创建一个阴影滤镜
        var glowFilter = new GlowFilter("#000000", 8, 8, 8);
        //设置滤镜为阴影滤镜
        apeshadow.filters = [glowFilter];
    }
})();

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L0xheWFBaXJJREVfYmV0YS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvSW1nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1RBLENBQUMsWUFDRDtBQUNJLFFBQUksU0FBVSxLQUFLLE1BQW5CO0FBQ0EsUUFBSSxRQUFVLEtBQUssS0FBbkI7QUFDQSxRQUFJLFVBQVUsS0FBSyxPQUFuQjtBQUNBLFFBQUksVUFBVSxLQUFLLE9BQW5CO0FBQ0EsUUFBSSxVQUFVLEtBQUssT0FBbkI7QUFDQSxRQUFJLFFBQVUsS0FBSyxLQUFuQjtBQUNBLFFBQUksY0FBYyxLQUFLLFdBQXZCO0FBQ0EsUUFBSSxhQUFhLEtBQUssVUFBdEI7QUFDQSxRQUFJLFdBQVcsMEJBQWY7QUFDQSxRQUFJLFdBQVcsMEJBQWY7QUFDQSxRQUFJLE9BQU8sS0FBWDtBQUNBLFFBQUksR0FBSixFQUFTLE9BQVQsRUFBa0IsU0FBbEI7QUFDQSxRQUFJLFVBQUo7QUFDQSxZQUFRLEdBQVIsQ0FBWSxLQUFLLFVBQWpCO0FBQ0EsS0FBQyxZQUFVO0FBQ1A7QUFDQSxhQUFLLElBQUwsQ0FBVSxRQUFRLFdBQWxCLEVBQStCLFFBQVEsWUFBdkMsRUFBcUQsS0FBckQ7QUFDQSxhQUFLLEtBQUwsQ0FBVyxNQUFYLEdBQW9CLE1BQU0sWUFBMUI7QUFDQSxhQUFLLEtBQUwsQ0FBVyxNQUFYLEdBQW9CLE1BQU0sWUFBMUI7QUFDQSxhQUFLLEtBQUwsQ0FBVyxTQUFYLEdBQXVCLFNBQXZCO0FBQ0EsYUFBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixTQUFyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUssTUFBTCxDQUFZLElBQVosQ0FBaUIsQ0FBQyxRQUFELEVBQVcsUUFBWCxDQUFqQixFQUF1QyxRQUFRLE1BQVIsQ0FBZSxJQUFmLEVBQXFC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QUFDQTtBQUNBLGFBQUssS0FBTCxDQUFXLFFBQVgsQ0FBb0IsT0FBcEI7QUFDQSxhQUFLLEtBQUwsQ0FBVyxRQUFYLENBQW9CLFNBQXBCO0FBQ0g7QUFDRCxhQUFTLFVBQVQsR0FDQTtBQUNJO0FBQ0EsWUFBSSxhQUFhLElBQUksVUFBSixDQUFlLFNBQWYsRUFBMEIsRUFBMUIsRUFBOEIsQ0FBOUIsRUFBaUMsQ0FBakMsQ0FBakI7QUFDQTtBQUNBLGdCQUFRLE9BQVIsR0FBa0IsQ0FBQyxVQUFELENBQWxCO0FBQ0g7QUFDRCxhQUFTLFlBQVQsR0FDQTtBQUNJO0FBQ0EsWUFBSSxhQUFhLElBQUksVUFBSixDQUFlLFNBQWYsRUFBMEIsQ0FBMUIsRUFBNkIsQ0FBN0IsRUFBZ0MsQ0FBaEMsQ0FBakI7QUFDQTtBQUNBLGtCQUFVLE9BQVYsR0FBb0IsQ0FBQyxVQUFELENBQXBCO0FBQ0g7QUFFSixDQTNKRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJcclxuKGZ1bmN0aW9uKClcclxue1xyXG4gICAgdmFyIFNwcml0ZSAgPSBMYXlhLlNwcml0ZTtcclxuICAgIHZhciBTdGFnZSAgID0gTGF5YS5TdGFnZTtcclxuICAgIHZhciBUZXh0dXJlID0gTGF5YS5UZXh0dXJlO1xyXG4gICAgdmFyIEJyb3dzZXIgPSBMYXlhLkJyb3dzZXI7XHJcbiAgICB2YXIgSGFuZGxlciA9IExheWEuSGFuZGxlcjtcclxuICAgIHZhciBXZWJHTCAgID0gTGF5YS5XZWJHTDtcclxuICAgIHZhciBDb2xvckZpbHRlciA9IExheWEuQ29sb3JGaWx0ZXI7XHJcbiAgICB2YXIgR2xvd0ZpbHRlciA9IExheWEuR2xvd0ZpbHRlcjtcclxuICAgIHZhciB0ZXh0dXJlMSA9IFwiLi4vbGF5YS9hc3NldHMvaW1nLzIucG5nXCI7XHJcbiAgICB2YXIgdGV4dHVyZTIgPSBcIi4uL2xheWEvYXNzZXRzL2ltZy8zLnBuZ1wiO1xyXG4gICAgdmFyIGZsYWcgPSBmYWxzZTtcclxuICAgIHZhciBhcGUsIGFwZUdsb3csIGFwZXNoYWRvdztcclxuICAgIHZhciBhcGVUZXh0dXJlO1xyXG4gICAgY29uc29sZS5sb2cobGF5YS5HbG93RmlsdGVyKTtcclxuICAgIChmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vIOS4jeaUr+aMgVdlYkdM5pe26Ieq5Yqo5YiH5o2i6IezQ2FudmFzXHJcbiAgICAgICAgTGF5YS5pbml0KEJyb3dzZXIuY2xpZW50V2lkdGgsIEJyb3dzZXIuY2xpZW50SGVpZ2h0LCBXZWJHTCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hbGlnblYgPSBTdGFnZS5BTElHTl9NSURETEU7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hbGlnbkggPSBTdGFnZS5BTElHTl9DRU5URVI7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBcInNob3dhbGxcIjtcclxuICAgICAgICBMYXlhLnN0YWdlLmJnQ29sb3IgPSBcIiMyMzI2MjhcIjtcclxuICAgICAgICAvLyBMb2FkZXIg57G75Y+v55So5p2l5Yqg6L295paH5pys44CBSlNPTuOAgVhNTOOAgeS6jOi/m+WItuOAgeWbvuWDj+etiei1hOa6kFxyXG4gICAgICAgIC8vIEhhbmRsZXLmmK/kuovku7blpITnkIblmajnsbsgIGNyZWF0ZSgp5LuO5a+56LGh5rGg5YaF5Yib5bu65LiA5LiqSGFuZGxlcu+8jOm7mOiupOS8muaJp+ihjOS4gOasoeW5tueri+WNs+WbnuaUtu+8jOWmguaenOS4jemcgOimgeiHquWKqOWbnuaUtlxyXG4gICAgICAgIC8vIOS4quS6uueQhuino++8muWKoOi9vei1hOa6kCDlm57osIPlh73mlbBcclxuICAgICAgICBMYXlhLmxvYWRlci5sb2FkKFt0ZXh0dXJlMSwgdGV4dHVyZTJdLCBIYW5kbGVyLmNyZWF0ZSh0aGlzLCBzZXR1cCkpO1xyXG4gICAgfSkoKTtcclxuICAgIC8vIGxvYWRJbWFnZVxyXG4gICAgZnVuY3Rpb24gb25Bc3NldHNMb2FkZWQoKXtcclxuICAgICAgICBhcGUgPSBuZXcgU3ByaXRlKCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChhcGUpO1xyXG4gICAgICAgIGFwZS5waXZvdCgwLCAwKTtcclxuICAgICAgICBhcGUucG9zKDEwMCwgMTAwKTtcclxuICAgICAgICAvLyDmmL7npLrpu5jorqTnurnnkIZcclxuICAgICAgICBzd2l0Y2hUZXh0dXJlKCk7XHJcbiAgICAgICAgYXBlLm9uKFwiY2xpY2tcIiwgdGhpcywgc3dpdGNoVGV4dHVyZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzd2l0Y2hUZXh0dXJlKCl7XHJcbiAgICAgICAgdmFyIHRleHR1cmVVcmwgPSAoZmxhZyA9ICFmbGFnKSA/IHRleHR1cmUxIDogdGV4dHVyZTI7XHJcbiAgICAgICAgLy8g5pu05o2i57q555CGXHJcbiAgICAgICAgLy8g5riF56m657uY5Yi25ZG95LukXHJcbiAgICAgICAgYXBlLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgYXBlLmxvYWRJbWFnZSh0ZXh0dXJlVXJsKTtcclxuICAgICAgICB2YXIgdGV4dHVyZSA9IExheWEubG9hZGVyLmdldFJlcyh0ZXh0dXJlVXJsKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2RyYXdUZXh0dXJlXHJcbiAgICBmdW5jdGlvbiBvbkFzc2V0c0xvYWRlZDIoKXtcclxuICAgICAgICBhcGUgPSBuZXcgU3ByaXRlKCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChhcGUpO1xyXG4gICAgICAgIGFwZS5waXZvdCgwLCAwKTtcclxuICAgICAgICBhcGUucG9zKDAsIDApO1xyXG4gICAgICAgIC8vIOaYvuekuum7mOiupOe6ueeQhlxyXG4gICAgICAgIHN3aXRjaFRleHR1cmUyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXBlLm9uKFwiY2xpY2tcIiwgdGhpcywgc3dpdGNoVGV4dHVyZTIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc3dpdGNoVGV4dHVyZTIoKXtcclxuICAgICAgICB2YXIgdGV4dHVyZVVybCA9IChmbGFnID0gIWZsYWcpID8gdGV4dHVyZTEgOiB0ZXh0dXJlMjtcclxuICAgICAgICAvLyDmm7TmjaLnurnnkIZcclxuICAgICAgICBhcGUuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICB2YXIgdGV4dHVyZSA9IExheWEubG9hZGVyLmdldFJlcyh0ZXh0dXJlVXJsKTtcclxuICAgICAgICBhcGUuZ3JhcGhpY3MuZHJhd1RleHR1cmUodGV4dHVyZSwgMCwgMCk7XHJcbiAgICAgICAgLy/liJvlu7rpga7nvanlr7nosaFcclxuICAgICAgICB2YXIgY01hc2sgPSBuZXcgU3ByaXRlKCk7XHJcbiAgICAgICAgLy/nlLvkuIDkuKrlnIblvaLnmoTpga7nvanljLrln59cclxuICAgICAgICBjTWFzay5ncmFwaGljcy5kcmF3Q2lyY2xlKDUwLDUwLDUwLFwiI2ZmMDAwMFwiKTtcclxuICAgICAgICAgIC8v5ZyG5b2i5omA5Zyo55qE5L2N572u5Z2Q5qCHXHJcbiAgICAgICAgY01hc2sucG9zKDAsMCk7XHJcbiAgICAgICAgIC8v5a6e546waW1n5pi+56S65a+56LGh55qE6YGu572p5pWI5p6cXHJcbiAgICAgICAgYXBlLm1hc2sgPSBjTWFzaztcclxuICAgICAgICAvLyDorr7nva7kuqTkupLljLrln59cclxuICAgICAgICBhcGUuc2l6ZSh0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ruk6ZWcXHJcbiAgICBmdW5jdGlvbiBzZXR1cCgpe1xyXG4gICAgICAgIG5vcm1hbGl6ZUFwZSgpO1xyXG4gICAgICAgIG1ha2VSZWRBcGUoKTtcclxuICAgICAgICBncmF5aW5nQXBlKCk7XHJcbiAgICAgICAgY3JlYXRlQXBlMSgpO1xyXG4gICAgICAgIGZpbHRlckdsb3coKTtcclxuICAgICAgICBmaWx0ZXJTaGFkb3coKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUFwZSgpe1xyXG4gICAgICAgIHZhciBvcmlnaW5hbEFwZSA9IGNyZWF0ZUFwZSgpO1xyXG4gICAgICAgIGFwZVRleHR1cmUgPSBMYXlhLmxvYWRlci5nZXRSZXMoXCIuLi9sYXlhL2Fzc2V0cy9pbWcvMi5wbmdcIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtYWtlUmVkQXBlKCl7XHJcbiAgICAgICAgLy/nlLEgMjAg5Liq6aG555uu77yI5o6S5YiX5oiQIDQgeCA1IOefqemYte+8iee7hOaIkOeahOaVsOe7hO+8jOe6ouiJslxyXG4gICAgICAgIHZhciByZWRNYXQgPVxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAxLCAwLCAwLCAwLCAwLCAvL1JcclxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDAsIDAsIC8vR1xyXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgLy9CXHJcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxLCAwLCAvL0FcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAvL+WIm+W7uuS4gOS4quminOiJsua7pOmVnOWvueixoSznuqLoibJcclxuICAgICAgICB2YXIgcmVkRmlsdGVyID0gbmV3IENvbG9yRmlsdGVyKHJlZE1hdCk7XHJcbiAgICAgICAgLy8g6LWk5YyW54yp54ypXHJcbiAgICAgICAgdmFyIHJlZEFwZSA9IGNyZWF0ZUFwZSgpO1xyXG4gICAgICAgIHJlZEFwZS5maWx0ZXJzID0gW3JlZEZpbHRlcl07XHJcbiAgICAgICAgdmFyIGZpcnN0Q2hpbGQgPSBMYXlhLnN0YWdlLmdldENoaWxkQXQoMCk7XHJcbiAgICAgICAgcmVkQXBlLnggPSBmaXJzdENoaWxkLnggKyBhcGVUZXh0dXJlLndpZHRoO1xyXG4gICAgICAgIHJlZEFwZS55ID0gZmlyc3RDaGlsZC55O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ3JheWluZ0FwZSgpe1xyXG4gICAgICAgIC8v55SxIDIwIOS4qumhueebru+8iOaOkuWIl+aIkCA0IHggNSDnn6npmLXvvInnu4TmiJDnmoTmlbDnu4TvvIzngbDlm75cclxuICAgICAgICB2YXIgZ3JheXNjYWxlTWF0ID0gWzAuMzA4NiwgMC42MDk0LCAwLjA4MjAsIDAsIDAsIDAuMzA4NiwgMC42MDk0LCAwLjA4MjAsIDAsIDAsIDAuMzA4NiwgMC42MDk0LCAwLjA4MjAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xyXG4gICAgICAgIC8v5Yib5bu65LiA5Liq6aKc6Imy5ruk6ZWc5a+56LGh77yM54Gw5Zu+XHJcbiAgICAgICAgdmFyIGdyYXlzY2FsZUZpbHRlciA9IG5ldyBDb2xvckZpbHRlcihncmF5c2NhbGVNYXQpO1xyXG4gICAgICAgIC8vIOeBsOW6pueMqeeMqVxyXG4gICAgICAgIHZhciBncmF5QXBlID0gY3JlYXRlQXBlKCk7XHJcbiAgICAgICAgZ3JheUFwZS5maWx0ZXJzID0gW2dyYXlzY2FsZUZpbHRlcl07XHJcbiAgICAgICAgdmFyIHNlY29uZENoaWxkID0gTGF5YS5zdGFnZS5nZXRDaGlsZEF0KDEpO1xyXG4gICAgICAgIGdyYXlBcGUueCA9IHNlY29uZENoaWxkLnggKyBhcGVUZXh0dXJlLndpZHRoO1xyXG4gICAgICAgIGdyYXlBcGUueSA9IHNlY29uZENoaWxkLnk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVBcGUoKXtcclxuICAgICAgICB2YXIgYXBlID0gbmV3IFNwcml0ZSgpO1xyXG4gICAgICAgIGFwZS5sb2FkSW1hZ2UoXCIuLi9sYXlhL2Fzc2V0cy9pbWcvMi5wbmdcIik7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChhcGUpO1xyXG4gICAgICAgIHJldHVybiBhcGU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVBcGUxKClcclxuICAgIHtcclxuICAgICAgICAvLyBhcGUgPSBuZXcgU3ByaXRlKCk7XHJcbiAgICAgICAgLy8gYXBlLmxvYWRJbWFnZSh0ZXh0dXJlMSk7XHJcbiAgICAgICAgYXBlR2xvdyA9IG5ldyBTcHJpdGUoKTtcclxuICAgICAgICBhcGVHbG93LmxvYWRJbWFnZSh0ZXh0dXJlMSk7XHJcbiAgICAgICAgYXBlc2hhZG93ID0gbmV3IFNwcml0ZSgpO1xyXG4gICAgICAgIGFwZXNoYWRvdy5sb2FkSW1hZ2UodGV4dHVyZTEpO1xyXG4gICAgICAgIC8vIGFwZS5wb3MoMTAwLDUwKTtcclxuICAgICAgICBhcGVHbG93LnBvcyg0MDAsMCk7XHJcbiAgICAgICAgYXBlc2hhZG93LnBvcyg1MDAsMCk7XHJcbiAgICAgICAgLy8gTGF5YS5zdGFnZS5hZGRDaGlsZChhcGUpO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQoYXBlR2xvdyk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChhcGVzaGFkb3cpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZmlsdGVyR2xvdygpXHJcbiAgICB7XHJcbiAgICAgICAgLy/liJvlu7rkuIDkuKrlj5HlhYnmu6TplZxcclxuICAgICAgICB2YXIgZ2xvd0ZpbHRlciA9IG5ldyBHbG93RmlsdGVyKFwiI2ZmZmYwMFwiLCAxMCwgMCwgMCk7XHJcbiAgICAgICAgLy/orr7nva7mu6TplZzpm4blkIjkuLrlj5HlhYnmu6TplZxcclxuICAgICAgICBhcGVHbG93LmZpbHRlcnMgPSBbZ2xvd0ZpbHRlcl07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBmaWx0ZXJTaGFkb3coKVxyXG4gICAge1xyXG4gICAgICAgIC8v5Yib5bu65LiA5Liq6Zi05b2x5ruk6ZWcXHJcbiAgICAgICAgdmFyIGdsb3dGaWx0ZXIgPSBuZXcgR2xvd0ZpbHRlcihcIiMwMDAwMDBcIiwgOCwgOCwgOCk7XHJcbiAgICAgICAgLy/orr7nva7mu6TplZzkuLrpmLTlvbHmu6TplZxcclxuICAgICAgICBhcGVzaGFkb3cuZmlsdGVycyA9IFtnbG93RmlsdGVyXTtcclxuICAgIH1cclxuXHJcbn0pKCk7Il19
